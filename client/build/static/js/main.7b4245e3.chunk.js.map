{"version":3,"sources":["components/Users.js","components/User.js","App.js","index.js"],"names":["Users","useState","users","setUsers","search","setSearch","useEffect","a","axios","get","then","res","data","getUsers","filteredUsers","filter","user","first_name","toLowerCase","indexOf","last_name","style","display","flexDirection","alignItems","justifyContent","type","value","onChange","e","target","placeholder","margin","height","width","borderRadius","outline","className","map","User","match","setUser","slotBooked","setSlotBooked","Date","selectedDate","setSelectedDate","modalShow","setModalShow","userName","setUserName","filterSlotsByName","setFilterSlotsByName","id","params","getSlots","filterNames","name","idOfUser","_id","onDeleteClick","delete","console","log","catch","err","marginTop","src","avatar","alt","Form","onSubmit","preventDefault","alert","slot","email","date","post","selected","minDate","isClearable","showYearDropdown","scrollableMonthYearDropdown","Button","variant","onClick","Modal","show","size","aria-labelledby","centered","Header","closeButton","Title","Body","key","substring","Footer","App","exact","path","window","location","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7b4245e3.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {Link} from 'react-router-dom'\r\nimport Media from 'react-bootstrap/Media'\r\n\r\nexport const Users = () => {\r\n    const [users,setUsers]  = useState([])\r\n    const [search,setSearch] = useState('')\r\n    \r\n    \r\n   \r\n    useEffect(() => {\r\n        const getUsers = async() => {\r\n            await axios.get('https://reqres.in/api/users')\r\n                .then(res => {\r\n                    // console.log(res.data.data)\r\n                    setUsers(res.data.data)\r\n                })\r\n        \r\n        }\r\n        getUsers();\r\n    },[])\r\n\r\n// filtering users\r\n    let filteredUsers = users.filter((user) => {\r\n         return (\r\n             user.first_name.toLowerCase().indexOf(search.toLowerCase()) !== -1 ||\r\n             user.last_name.toLowerCase().indexOf(search.toLowerCase()) !== -1\r\n             )\r\n    });\r\n    \r\n    return (\r\n        <div style={{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'}}>\r\n            \r\n            <input type='text' value={search} onChange={(e) => setSearch(e.target.value)} placeholder='search users'\r\n            style={{margin:'50px 0',height:'37px',width:'300px',borderRadius:'5px',outline:'none'}}></input>\r\n            <ul className=\"list-unstyled\">\r\n            {filteredUsers.map(user => (\r\n                    // <div key={user.id} style={{display:'flex',flexDirection:'column'}}>\r\n                        <Link to ={`/users/${user.id}`}>\r\n                        <Media as=\"li\" className='mb-5' key={user.id}>\r\n                    <img src={user.avatar} width='50' height='50' alt={user.first_name}/>\r\n                    <Media.Body className='ml-3' key={user.id}>\r\n                   <h5> {`${user.first_name} ${user.last_name}`} </h5>\r\n                   </Media.Body>\r\n                   </Media>\r\n                   </Link>\r\n                // {/* </div> */}\r\n            ))}\r\n            </ul>\r\n    \r\n        </div>\r\n    )\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nexport const User = ({match}) => {\r\n    const [user,setUser] = useState({})\r\n    const [slotBooked,setSlotBooked] = useState(false)\r\n    const [selectedDate,setSelectedDate] = useState(new Date())\r\n    const [modalShow, setModalShow] = useState(false)\r\n    const [userName,setUserName] = useState('')\r\n    const [filterSlotsByName,setFilterSlotsByName] = useState([])\r\n    const  id=match.params.id\r\n\r\n    useEffect(() => {\r\n        const getUsers = async() => {\r\n            await axios.get(`https://reqres.in/api/users/${id}`)\r\n                .then(res => {\r\n                    // console.log(`${res.data.data.first_name} ${res.data.data.last_name}`)\r\n                    setUserName(`${res.data.data.first_name} ${res.data.data.last_name}`)\r\n                    setUser(res.data.data)\r\n                    \r\n                })\r\n        }\r\n        getUsers();\r\n\r\n        // gets slots\r\n        const getSlots = async() => {\r\n            await axios.get('/api/slot')\r\n                .then(res => {\r\n                    // console.log(res.data)\r\n                    setFilterSlotsByName(res.data)\r\n                })\r\n        }\r\n        getSlots();\r\n    },[id])\r\n\r\n    // filter names\r\n    let filterNames = filterSlotsByName.filter(user => {\r\n\r\n       return  user.name === userName  \r\n    })\r\n    // console.log(filterNames.map(user => console.log(user._id)))\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        const slot = {\r\n            name:`${user.first_name} ${user.last_name}`,\r\n            email:`${user.email}`,\r\n            date:selectedDate\r\n        }\r\n        // console.log(slot);\r\n\r\n        axios.post('/api/slot/book', slot)\r\n            .then(res => {\r\n                // console.log(res.data)\r\n                if(res.data === 'slot booked!') alert('Your slot is booked')\r\n                setSlotBooked(true)\r\n            })\r\n    }\r\n    \r\n\r\n    const doubleBooking = (e) => {\r\n        e.preventDefault();\r\n        alert('OOPS! Your slot is already booked!')\r\n    }\r\n\r\n    \r\n    const idOfUser = filterNames.map(user => user._id)\r\n    // console.log(idOfUser)\r\n    const onDeleteClick = () => {\r\n         axios.delete(`/api/slot/${idOfUser[0]}`)\r\n        .then(res => console.log(res.data))\r\n        .catch(err => console.log(err))\r\n    }\r\n   \r\n    return (\r\n        <div style={{display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column',marginTop:'40px'}}>\r\n            <img src={user.avatar} alt={user.first_name}/>\r\n            <Form onSubmit={slotBooked ? doubleBooking : onSubmit}>\r\n            <h5> Name: {`${user.first_name} ${user.last_name}`} </h5>   \r\n            <h5>Email: {user.email}</h5>\r\n            <DatePicker className='ml-5' selected={selectedDate} minDate={new Date()} isClearable showYearDropdown scrollableMonthYearDropdown onChange={date => setSelectedDate(date)}/><br />\r\n            <button className={slotBooked ? 'btn btn-primary mt-3 ml-5 disabled' : 'btn btn-primary mt-3 ml-5'} type='submit'>Book Slot</button>\r\n            </Form>\r\n\r\n            <Button variant={slotBooked ? 'primary' : 'secondary'} onClick={() => setModalShow(true)} className='mt-3'>\r\n            View slot details\r\n         </Button>\r\n         <Modal\r\n    //   {...props}\r\n    show={modalShow}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Slot details\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <h4>Slot is booked on:</h4>\r\n            <div>\r\n          {filterNames.map(user => (\r\n              <h1 key={user._id}>{`${user.date}`.substring(0,10)}<span className='btn btn-danger float-right' onClick={onDeleteClick}>X</span></h1>\r\n          ))}\r\n          </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button onClick={() => setModalShow(false)}>Close</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport {BrowserRouter as Router,Switch,Route} from 'react-router-dom'\nimport {Users} from './components/Users'\nimport {User} from './components/User'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route exact path='/'>\n      <button className=\"btn btn-primary button__center\" onClick={() => window.location='/users'}>Go In</button>\n      </Route>\n      <Route path='/users' exact component={Users} />\n      <Route path='/users/:id' component={User} />\n\n      </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));\n\n"],"sourceRoot":""}